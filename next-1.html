<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Next</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">
    <style>
        html, body {
            height: 100%;
            margin: 0;
        }
        body {
            display: flex;
            align-items: center;
            justify-content: center;
            background: #FEE7EF;
            overflow: hidden;
        }
        .layout {
            display: flex;
            align-items: flex-start;
            justify-content: center;
            gap: 32px;
            width: min(1100px, 92vw);
            z-index: 1;
        }
        .page-flip-in {
            position: fixed;
            inset: 0;
            background: #FEE7EF;
            transform-origin: left center;
            transform: perspective(1200px) rotateY(0deg);
            animation: flipIn 0.7s ease-out forwards;
            z-index: 10;
            pointer-events: none;
        }
        .hearts {
            position: fixed;
            inset: 0;
            pointer-events: none;
            z-index: 0;
        }
        .heart {
            position: absolute;
            top: -20px;
            color: #ff5a7a;
            opacity: 0.85;
            animation: fall linear forwards;
            text-shadow: 0 2px 6px rgba(0, 0, 0, 0.12);
            will-change: transform;
        }
        .couple-img {
            max-width: 48vw;
            max-height: 90vh;
            width: auto;
            height: auto;
            display: block;
        }
        .right-text {
            max-width: 420px;
            color: #6a3642;
            font-size: 18px;
            line-height: 1.5;
        }
        .right-text h2 {
            margin: 0 0 12px;
            font-size: 32px;
            font-family: "Great Vibes", cursive;
            font-weight: 500;
        }
        .right-text p {
            margin: 0 0 10px;
        }
        .back-btn {
            position: fixed;
            left: 24px;
            bottom: 24px;
            padding: 12px 26px;
            border-radius: 999px;
            border: 2px solid #d9a8b7;
            background: #fff6f9;
            color: #7a3f4e;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            z-index: 12;
            transition: transform 0.15s ease, box-shadow 0.2s ease;
        }
        .back-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(120, 60, 80, 0.18);
        }
        .next-btn {
            position: fixed;
            right: 24px;
            bottom: 24px;
            padding: 12px 26px;
            border-radius: 999px;
            border: 2px solid #d9a8b7;
            background: #fff6f9;
            color: #7a3f4e;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            z-index: 12;
            transition: transform 0.15s ease, box-shadow 0.2s ease;
        }
        .next-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(120, 60, 80, 0.18);
        }
        .type-line {
            white-space: pre-wrap;
        }
        @media (max-width: 768px) {
            body {
                overflow: auto;
            }
            .layout {
                flex-direction: column;
                gap: 18px;
                padding: 24px 0;
            }
            .couple-img {
                max-width: 86vw;
                max-height: 60vh;
            }
            .right-text {
                max-width: 86vw;
                text-align: center;
                font-size: 16px;
            }
            .back-btn {
                left: 16px;
                bottom: 16px;
                font-size: 14px;
                padding: 10px 20px;
            }
            .next-btn {
                right: 16px;
                bottom: 16px;
                font-size: 14px;
                padding: 10px 20px;
            }
        }
        @media (max-width: 480px) {
            .layout {
                gap: 14px;
                padding: 18px 0;
            }
            .couple-img {
                max-width: 90vw;
                max-height: 52vh;
            }
            .right-text {
                font-size: 15px;
            }
            .right-text h2 {
                font-size: 24px;
            }
        }
        @media (min-width: 1024px) {
            .layout {
                width: min(1200px, 90vw);
                gap: 36px;
            }
            .couple-img {
                max-width: 46vw;
                max-height: 70vh;
            }
            .right-text {
                max-width: 460px;
                font-size: 19px;
            }
            .right-text h2 {
                font-size: 30px;
            }
        }
        @media (min-width: 1200px) {
            .layout {
                width: min(1320px, 88vw);
                gap: 44px;
            }
            .couple-img {
                max-width: 44vw;
                max-height: 82vh;
            }
            .right-text {
                max-width: 520px;
                font-size: 20px;
            }
            .right-text h2 {
                font-size: 32px;
            }
        }
        @media (min-width: 1600px) {
            .layout {
                width: min(1500px, 84vw);
                gap: 52px;
            }
            .couple-img {
                max-width: 40vw;
                max-height: 74vh;
            }
            .right-text {
                max-width: 580px;
                font-size: 21px;
            }
            .right-text h2 {
                font-size: 36px;
            }
        }
        @keyframes flipIn {
            to {
                transform: perspective(1200px) rotateY(90deg);
                opacity: 0;
            }
        }
        @keyframes fall {
            to {
                transform: translateY(110vh);
            }
        }
    </style>
</head>
<body>
    <div class="hearts" id="hearts"></div>
    <div class="page-flip-in" aria-hidden="true"></div>
    <div class="layout">
        <img class="couple-img" src="couple.png" alt="couple">
        <div class="right-text">
            <h2 class="type-line" data-text="For You, On Valentine's Day"></h2>
            <p class="type-line" data-text="From the day I met you until now, I've realized that love isn't just about the happy beginnings or sweet moments. It's also about the quiet days, the misunderstandings, the distance, and the times when things aren't easy."></p>
            <p class="type-line" data-text="We've been through fears, doubts, and difficult conversations, but what matters most to me is that we're still here, choosing to stay, to listen, and to understand each other better. That means more to me than perfection ever could."></p>
            <p class="type-line" data-text="I don't cherish you because everything is always perfect, but because you're still here even when it's hard. Loving you has taught me patience, honesty, and what it truly means to grow together."></p>
            <p class="type-line" data-text="Thank you for choosing me, for believing in us, and for being someone I truly want to protect, appreciate, and love more seriously with every passing day."></p>
            <p class="type-line" data-text="Happy Valentine's Day, my love."></p>
            <p class="type-line" data-text="Always yours,"></p>
            <p class="type-line" data-text="Your Babe - Hai"></p>
        </div>
    </div>
    <button class="back-btn" id="back-btn" type="button">Back</button>
    <button class="next-btn" id="next-btn" type="button">Next</button>
    <script>
        const hearts = document.getElementById("hearts");
        const MAX_HEARTS = 48;

        function spawnHeart() {
            if (hearts.children.length >= MAX_HEARTS) return;

            const heart = document.createElement("div");
            heart.className = "heart";
            heart.textContent = "â¤";

            const size = 12 + Math.random() * 18;
            const duration = 4 + Math.random() * 6;
            const left = Math.random() * 100;
            const drift = -20 + Math.random() * 40;

            heart.style.fontSize = `${size}px`;
            heart.style.left = `${left}vw`;
            heart.style.animationDuration = `${duration}s`;
            heart.style.transform = `translateX(${drift}px)`;

            hearts.appendChild(heart);
            setTimeout(() => heart.remove(), duration * 1000);
        }

        setInterval(spawnHeart, 250);

        const lines = Array.from(document.querySelectorAll(".type-line"));
        const typingSpeed = 18;
        const lineDelay = 140;

        function runTyping() {
            let i = 0;

            const nextLine = () => {
                if (i >= lines.length) return;
                const el = lines[i];
                const text = el.dataset.text || "";
                let idx = 0;

                const step = () => {
                    el.textContent = text.slice(0, idx);
                    idx += 1;
                    if (idx <= text.length) {
                        setTimeout(step, typingSpeed);
                    } else {
                        i += 1;
                        setTimeout(nextLine, lineDelay);
                    }
                };

                step();
            };

            nextLine();
        }

        const startTyping = () => {
            lines.forEach((line) => {
                line.textContent = "";
            });
            setTimeout(runTyping, 200);
        };

        const coupleImg = document.querySelector(".couple-img");
        if (coupleImg && !coupleImg.complete) {
            coupleImg.addEventListener("load", startTyping, { once: true });
        } else {
            startTyping();
        }

        const backBtn = document.getElementById("back-btn");
        const nextBtn = document.getElementById("next-btn");
        backBtn.addEventListener("click", () => {
            localStorage.setItem("valentine_next_unlocked", "1");
            window.location.href = "yes.html";
        });
        nextBtn.addEventListener("click", () => {
            window.location.href = "next-2.html";
        });

    </script>
</body>
</html>
